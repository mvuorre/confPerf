---
title: "Math Metacognition"
description: |
  Analyses of math metacognition data
date: "`r Sys.Date()`"
author:
  - name: Matti Vuorre 
    affiliation: Columbia University
output: 
  radix::radix_article:
    toc: true
    toc_depth: 1
    self_contained: false
    lib_dir: "site_libs"
site: radix::radix_website
---

```{r setup, include=FALSE}
library(knitr)
library(tidyverse)
library(summarytools)
opts_chunk$set(echo = FALSE)
```

# Confidence in mathematics data and analyses

Matti Vuorre <mv2521@columbia.edu>

Data and analyses discussed in Vuorre & Metcalfe (working title: "Confidence in mathematics"; in prep). 

* Data from all six experiments are in a single table at `data/merged.csv`
* Analyses are documented as an [R Markdown](https://rmarkdown.rstudio.com/) ([Radix](https://rstudio.github.io/radix/)) website at `docs/index.html`, which can be viewed at <https://mvuorre.github.io/mathPerfConf>
* The materials are archived on OSF at <https://osf.io/np3cu/>, and github at <https://github.com/mvuorre/mathPerfConf>

# Reproduce

To reproduce these analyses, copy all files to a local drive. Activate the `mathPerfConf` R Project in R Studio, and run `build.R`. The analysis code is contained in `.Rmd` R Markdown files, which can also be executed individually in interactive mode.


# Data description

## Confidence scales

Experiments 1 - 3 used a Likert scale with the following labels:

>0 I completely guessed.  
1 I did more than guess, but I am not confident that my answer is correct.  
2 I have some idea how to do this problem, but I am not confident that my answer is correct.  
3 I am not confident that my answer is correct, nor am I confident that it is incorrect.  
4 I am fairly confident that my answer is correct.  
5 I am extremely confident that my answer is correct.  

Experiment 5 used a 0-10 Likert scale. Experiments 4 and 6 were computer experiments that used a 0-1 VAS. 

Because of these differences in scales, we have binned confidence ratings to six bins (3 experiments already had six-point ratings, so scaling is only done on experiments 4-6). The raw confidence ratings are variable `con`, binned ratings are variable `con6`.

## Variables

```{r, eval = T}
dat <- read_csv("data/merged.csv")
dat
```

`exclude` is a logical indicating whether the participant on that row met the exclusion criteria. `subject` labels are arbitrary numbers.

Number of subjects by experiment

```{r}
dat %>% 
  distinct(exp, subject, exclude) %>% 
  count(exp, exclude) %>%
  spread(exclude, n, sep = ": ") %>% 
  kable()
```

Number of items by experiment

```{r}
dat %>% 
  distinct(exp, item) %>% 
  count(exp) %>% 
  kable()
```

Number of items per subject (only non-excluded subjects are considered) by experiment

```{r}
dat %>% 
  filter(!exclude) %>% 
  distinct(exp, subject, item) %>% 
  count(exp, subject) %>% 
  group_by(exp) %>% 
  summarise(min = min(n),
            max = max(n),
            iqr_l = quantile(n, .25),
            iqr_u = quantile(n, .75)) %>% 
  kable()
```

```{r, eval = F}
# Export list of items to table
dat %>% 
  group_by(exp, item) %>% 
  count() %>% 
  spread(exp, n, sep = "", fill = "-") %>% 
  write_csv("tab.txt")

dat %>% 
  distinct(exp, item) %>% 
  group_by(exp) %>% 
  mutate(problem = 1:n()) %>% 
  spread(exp, item, fill = " ") %>% 
  write_csv("tab.txt")
```
